# HEX

## Описание проекта
HEX — прототип AI try-on платформы для онлайн-ретейла. Сервис поддерживает ссылки на товары с Wildberries, Ozon и Lamoda, выполняет 2D/3D примерку и использует AI для подбора размера и рекомендаций. Текущий статус: ранний прототип в активной разработке.

## Быстрый старт
### Требования
- Node.js 18+
- npm 9+

### Установка
```bash
npm install
```

### Команды
- `npm run dev` — запуск фронтенда в режиме разработки (Vite).
- `npm run server` — запуск API-сервера (Fastify).
- `npm run build` — сборка фронтенда.
- `npm run preview` — предпросмотр собранной версии.

## Технологический стек
- React 18 + Vite
- Tailwind CSS
- Fastify (Node.js)
- AI SDKs/модели для 2D/3D try-on (подключаемые провайдеры)

## Структура проекта
- `src/` — клиентское приложение (страницы, компоненты, хуки, утилиты).
- `server/` — серверная часть (маршруты Fastify, интеграции с AI/маркетплейсами, конфигурация).

## API
### `POST /api/product/parse`
- **Параметры**: `{ url: string }` — ссылка на товар (WB/Ozon/Lamoda).
- **Ответ**: `{ id, title, images, price, sizes, source }`.
- **Ошибки**: `400` при неверной ссылке, `502` при недоступности маркетплейса.

### `POST /api/tryon/2d`
- **Параметры**: `{ productId: string, photo: File | string (base64) }`.
- **Ответ**: `{ previewUrl, recommendation }` (сгенерированная 2D примерка).
- **Ошибки**: `400` при отсутствии фото или товара, `500` при ошибке AI-сервиса.

### `POST /api/tryon/3d`
- **Параметры**: `{ productId: string, bodyScan: File | string (base64) }`.
- **Ответ**: `{ modelUrl, recommendation }` (3D модель и рекомендации по посадке).
- **Ошибки**: `400` при некорректных данных, `500` при ошибке AI-сервиса.

## Ключевые функции UI
- Проверка и валидация ссылок маркетплейсов (WB/Ozon/Lamoda).
- Выбор размеров и отображение доступности/совместимости.
- AI-рекомендации по посадке и стилю на основе 2D/3D примерки.

## Дорожная карта и ограничения прототипа
- **В процессе**: улучшение точности try-on, оптимизация времени отклика, расширение поддерживаемых брендов.
- **Планируется**: личный кабинет с историей примерок, A/B тестирование рекомендаций, аналитика по конверсии.
- **Ограничения**: прототип не предназначен для продакшена; возможны задержки/ошибки AI-сервисов; 3D примерка зависит от качества исходного скана.
